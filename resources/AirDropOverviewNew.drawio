<mxfile host="app.diagrams.net" modified="2023-12-12T15:25:23.947Z" agent="Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:109.0) Gecko/20100101 Firefox/118.0" etag="4ZFNi3UDvivJmkk_lT-8" version="22.1.7" type="device">
  <diagram name="Page-1" id="2YBvvXClWsGukQMizWep">
    <mxGraphModel dx="515" dy="1542" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="aM9ryv3xv72pqoxQDRHE-1" value="&lt;div&gt;:Sender (iPhone)&lt;/div&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=0;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=45;" parent="1" vertex="1">
          <mxGeometry x="130" y="40" width="100" height="1000" as="geometry" />
        </mxCell>
        <mxCell id="aM9ryv3xv72pqoxQDRHE-2" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="aM9ryv3xv72pqoxQDRHE-1" vertex="1">
          <mxGeometry x="45" y="70" width="10" height="920" as="geometry" />
        </mxCell>
        <mxCell id="aM9ryv3xv72pqoxQDRHE-5" value="&lt;div&gt;:Receiver (iPad)&lt;/div&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=0;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=50;" parent="1" vertex="1">
          <mxGeometry x="480" y="40" width="100" height="1000" as="geometry" />
        </mxCell>
        <mxCell id="aM9ryv3xv72pqoxQDRHE-6" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="aM9ryv3xv72pqoxQDRHE-5" vertex="1">
          <mxGeometry x="45" y="80" width="10" height="900" as="geometry" />
        </mxCell>
        <mxCell id="aM9ryv3xv72pqoxQDRHE-7" value="&lt;div&gt;mDNS (PTR _airdrop._tcp.local)&lt;br&gt;&lt;/div&gt;&lt;div&gt;ff02::fb&lt;/div&gt;" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;" parent="1" edge="1">
          <mxGeometry x="0.0294" y="-10" relative="1" as="geometry">
            <mxPoint x="185" y="280" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="380" y="280" />
              <mxPoint x="485" y="290" />
              <mxPoint x="385" y="280" />
              <mxPoint x="255" y="220" />
            </Array>
            <mxPoint x="525" y="280" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OVtjpk0A2-jqffXC2TWz-1" value="BLE Connection Setup" style="edgeStyle=elbowEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;elbow=vertical;curved=0;startArrow=classic;startFill=1;" parent="1" source="aM9ryv3xv72pqoxQDRHE-2" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="190" y="129.9957142857143" as="sourcePoint" />
            <mxPoint x="525" y="129.9957142857143" as="targetPoint" />
            <Array as="points">
              <mxPoint x="240" y="130" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="OVtjpk0A2-jqffXC2TWz-2" value="AWDL Synchronization" style="edgeStyle=elbowEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;elbow=vertical;curved=0;startArrow=classic;startFill=1;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="185" y="155" as="sourcePoint" />
            <mxPoint x="525" y="155" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OVtjpk0A2-jqffXC2TWz-4" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;rotation=-180;" parent="1" vertex="1">
          <mxGeometry x="550" y="120" width="40" height="50" as="geometry" />
        </mxCell>
        <mxCell id="OVtjpk0A2-jqffXC2TWz-5" value="&lt;div&gt;Not observered;&amp;nbsp;&lt;/div&gt;&lt;div&gt;taken from Stute Paper&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="600" y="130" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="aM9ryv3xv72pqoxQDRHE-3" value="select AirDrop" style="html=1;verticalAlign=bottom;startArrow=oval;endArrow=block;startSize=8;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="90" y="140.14" as="sourcePoint" />
            <mxPoint x="175" y="140.2828571428571" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OVtjpk0A2-jqffXC2TWz-7" value="Discovery takes place if iPhone/iPad is set to Contact/Everyone mode" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="10" y="150" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OVtjpk0A2-jqffXC2TWz-9" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;" parent="1" target="aM9ryv3xv72pqoxQDRHE-6" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="185" y="180" as="sourcePoint" />
            <mxPoint x="530" y="180" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OVtjpk0A2-jqffXC2TWz-10" value="&lt;div&gt;Querying happens both in AWDL&amp;amp; WiFi Network&amp;nbsp;&lt;/div&gt;&lt;div&gt;periodically (~30-60s) even without AirDrop actively selected&lt;/div&gt;&lt;div&gt;Receive option must be on&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="560" y="260" width="273.3" height="80" as="geometry" />
        </mxCell>
        <mxCell id="yCxDXh_MjUkCu9cZjC5a-2" value="&lt;div&gt;mDNS (SRV cache flush rnd.local AAAA &amp;amp; A)&lt;/div&gt;&lt;div&gt;rnd.local is at fe80::&amp;lt;receiver&amp;gt;&lt;/div&gt;&lt;div&gt;rnd.local is at d00:&amp;lt;receiver&amp;gt;&lt;/div&gt;&lt;div&gt;rnd.local is at 10.151.&amp;lt;receiver&amp;gt;&lt;br&gt;&lt;/div&gt;" style="edgeStyle=elbowEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;elbow=horizontal;curved=0;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="525" y="319.4271428571429" as="sourcePoint" />
            <mxPoint x="185" y="319.4271428571429" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="yCxDXh_MjUkCu9cZjC5a-3" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="185" y="360" as="sourcePoint" />
            <mxPoint x="525" y="360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="yCxDXh_MjUkCu9cZjC5a-4" value="&lt;div&gt;1. TCP/TLS connection&lt;/div&gt;&lt;div&gt;Authentication&lt;br&gt;AWDL0 Interface&lt;/div&gt;&lt;div&gt;fe80::&amp;lt;iphone&amp;gt; to fe80::&amp;lt;ipad&amp;gt;&lt;br&gt;&lt;/div&gt;" style="edgeStyle=elbowEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;elbow=vertical;curved=0;startArrow=classic;startFill=1;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="185" y="410" as="sourcePoint" />
            <mxPoint x="525" y="410" as="targetPoint" />
            <Array as="points">
              <mxPoint x="510" y="410" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="yCxDXh_MjUkCu9cZjC5a-11" value="&lt;div&gt;QUIC Connection 1 : AWDL, IPv6 (rev)&lt;br&gt;&lt;/div&gt;&lt;div&gt;Data transfer&lt;/div&gt;&lt;div&gt;Options:&amp;nbsp;&lt;/div&gt;&lt;div&gt;Long Header, h3, only tls1.3, cid limit=64,&amp;nbsp;&lt;/div&gt;&lt;div&gt;idle_to=5min,init_data=2MiB&lt;/div&gt;&lt;div&gt;parameter 0xff080808 - 01 - 05 is not documented&lt;br&gt;&lt;/div&gt;" style="edgeStyle=elbowEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;elbow=vertical;curved=0;startArrow=classic;startFill=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="360" y="640" />
            </Array>
            <mxPoint x="185" y="640" as="sourcePoint" />
            <mxPoint x="525" y="640" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="yCxDXh_MjUkCu9cZjC5a-12" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="185" y="460" as="sourcePoint" />
            <mxPoint x="525" y="460" as="targetPoint" />
            <Array as="points">
              <mxPoint x="380" y="460" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="yCxDXh_MjUkCu9cZjC5a-13" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;rotation=-180;" parent="1" vertex="1">
          <mxGeometry x="556.7" y="380" width="40" height="70" as="geometry" />
        </mxCell>
        <mxCell id="yCxDXh_MjUkCu9cZjC5a-14" value="&lt;div&gt;Authentication &amp;amp; contact info&lt;/div&gt;&lt;div&gt;exchange;&lt;/div&gt;&lt;div&gt;taken from Stute paper&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="608.35" y="385" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yCxDXh_MjUkCu9cZjC5a-18" value="&lt;div&gt;AWDL connection becomes unstable&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="560" y="708" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="yCxDXh_MjUkCu9cZjC5a-19" value="&lt;div&gt;ICMPv6 Neighbor Solicitation&lt;/div&gt;&lt;div&gt;on WiFi Interface&lt;/div&gt;&lt;div&gt;for init announced IPv6&lt;br&gt;&lt;/div&gt;" style="edgeStyle=elbowEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;elbow=vertical;curved=0;" parent="1" edge="1">
          <mxGeometry x="0.0017" relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="360" y="771" />
            </Array>
            <mxPoint as="offset" />
            <mxPoint x="185" y="771" as="sourcePoint" />
            <mxPoint x="525" y="771" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="yCxDXh_MjUkCu9cZjC5a-17" value="" style="verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=mxgraph.basic.flash;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="350" y="699" width="20" height="40" as="geometry" />
        </mxCell>
        <mxCell id="yCxDXh_MjUkCu9cZjC5a-21" value="&lt;div&gt;ICMPv6 Neighbor Advertisement&lt;/div&gt;&lt;div&gt;on WiFi Interface&lt;/div&gt;&lt;div&gt;for all requested IPv6&lt;br&gt;&lt;/div&gt;" style="edgeStyle=elbowEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;elbow=vertical;curved=0;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="360" y="820" />
            </Array>
            <mxPoint x="525" y="820" as="sourcePoint" />
            <mxPoint x="185" y="820" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="yCxDXh_MjUkCu9cZjC5a-22" value="&lt;div&gt;AWDL connection breaks;&lt;/div&gt;&lt;div&gt;switch to WiFi interface&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="580" y="800" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="yCxDXh_MjUkCu9cZjC5a-23" value="&lt;div&gt;QUIC Connection&lt;br&gt;&lt;/div&gt;&lt;div&gt;on WiFI Interface&lt;br&gt;&lt;/div&gt;&lt;div&gt;Data transfer&lt;br&gt;&lt;/div&gt;" style="edgeStyle=elbowEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;elbow=vertical;curved=0;startArrow=classic;startFill=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" edge="1">
          <mxGeometry x="0.0017" relative="1" as="geometry">
            <mxPoint x="185" y="921" as="sourcePoint" />
            <mxPoint x="525" y="921" as="targetPoint" />
            <Array as="points">
              <mxPoint x="395" y="921" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7W10EVZrkEFWbG0_Qhk3-3" value="AP1" style="image;points=[];aspect=fixed;html=1;align=center;shadow=0;dashed=0;image=img/lib/allied_telesis/wireless/Access_Point_Indoor.svg;" parent="1" vertex="1">
          <mxGeometry x="155.04999999999998" y="-500" width="43.3" height="64.6" as="geometry" />
        </mxCell>
        <mxCell id="7W10EVZrkEFWbG0_Qhk3-4" value="&lt;div style=&quot;font-size: 18px;&quot;&gt;Actions performed / Test conducted&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="193.4" y="-660" width="310" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7W10EVZrkEFWbG0_Qhk3-7" value="" style="html=1;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;shadow=0;dashed=0;strokeWidth=1;shape=mxgraph.ios7.misc.iphone;strokeColor=#c0c0c0;" parent="1" vertex="1">
          <mxGeometry x="60" y="-360" width="30" height="50" as="geometry" />
        </mxCell>
        <mxCell id="7W10EVZrkEFWbG0_Qhk3-8" value="" style="html=1;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;shadow=0;dashed=0;strokeWidth=1;shape=mxgraph.ios7.misc.ipad7inch;strokeColor=#c0c0c0;" parent="1" vertex="1">
          <mxGeometry x="260" y="-379.75" width="61.65" height="89.5" as="geometry" />
        </mxCell>
        <mxCell id="7W10EVZrkEFWbG0_Qhk3-13" value="" style="endArrow=none;dashed=1;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="100" y="-370" as="sourcePoint" />
            <mxPoint x="150" y="-420" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7W10EVZrkEFWbG0_Qhk3-14" value="" style="endArrow=none;dashed=1;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="250" y="-380" as="sourcePoint" />
            <mxPoint x="210" y="-420" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7W10EVZrkEFWbG0_Qhk3-15" value="" style="endArrow=none;dashed=1;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="100" y="-330" as="sourcePoint" />
            <mxPoint x="250" y="-330" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7W10EVZrkEFWbG0_Qhk3-16" value="State 1" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="136.7" y="-110" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="7W10EVZrkEFWbG0_Qhk3-17" value="AP1" style="image;points=[];aspect=fixed;html=1;align=center;shadow=0;dashed=0;image=img/lib/allied_telesis/wireless/Access_Point_Indoor.svg;" parent="1" vertex="1">
          <mxGeometry x="503.4" y="-499.75" width="43.3" height="64.6" as="geometry" />
        </mxCell>
        <mxCell id="7W10EVZrkEFWbG0_Qhk3-18" value="" style="html=1;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;shadow=0;dashed=0;strokeWidth=1;shape=mxgraph.ios7.misc.iphone;strokeColor=#c0c0c0;" parent="1" vertex="1">
          <mxGeometry x="408.35" y="-359.75" width="30" height="50" as="geometry" />
        </mxCell>
        <mxCell id="7W10EVZrkEFWbG0_Qhk3-19" value="" style="html=1;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;shadow=0;dashed=0;strokeWidth=1;shape=mxgraph.ios7.misc.ipad7inch;strokeColor=#c0c0c0;" parent="1" vertex="1">
          <mxGeometry x="608.35" y="-379.5" width="61.65" height="89.5" as="geometry" />
        </mxCell>
        <mxCell id="7W10EVZrkEFWbG0_Qhk3-20" value="" style="endArrow=none;dashed=1;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="448.35" y="-369.75" as="sourcePoint" />
            <mxPoint x="498.35" y="-419.75" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7W10EVZrkEFWbG0_Qhk3-21" value="" style="endArrow=none;dashed=1;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="598.35" y="-379.75" as="sourcePoint" />
            <mxPoint x="558.35" y="-419.75" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7W10EVZrkEFWbG0_Qhk3-23" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="330" y="-390" as="sourcePoint" />
            <mxPoint x="390" y="-390" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IKFatvW-H0tgTWFa8szm-1" value="" style="verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=mxgraph.basic.no_symbol;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="340" y="850" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="IKFatvW-H0tgTWFa8szm-2" value="QUIC Connection migrated" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="570" y="908" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="IKFatvW-H0tgTWFa8szm-3" value="Internet" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="120" y="-590" width="90" height="50" as="geometry" />
        </mxCell>
        <mxCell id="IKFatvW-H0tgTWFa8szm-4" value="" style="endArrow=none;dashed=1;html=1;rounded=0;exitX=0.55;exitY=0.95;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="IKFatvW-H0tgTWFa8szm-3" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="260" y="-370" as="sourcePoint" />
            <mxPoint x="170" y="-510" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IKFatvW-H0tgTWFa8szm-5" value="Internet" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="470" y="-590" width="90" height="50" as="geometry" />
        </mxCell>
        <mxCell id="IKFatvW-H0tgTWFa8szm-6" value="" style="endArrow=none;dashed=1;html=1;rounded=0;exitX=0.55;exitY=0.95;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="IKFatvW-H0tgTWFa8szm-5" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="610" y="-370" as="sourcePoint" />
            <mxPoint x="520" y="-510" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IKFatvW-H0tgTWFa8szm-7" value="AP1" style="image;points=[];aspect=fixed;html=1;align=center;shadow=0;dashed=0;image=img/lib/allied_telesis/wireless/Access_Point_Indoor.svg;" parent="1" vertex="1">
          <mxGeometry x="165.04999999999998" y="-240" width="43.3" height="64.6" as="geometry" />
        </mxCell>
        <mxCell id="IKFatvW-H0tgTWFa8szm-8" value="" style="html=1;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;shadow=0;dashed=0;strokeWidth=1;shape=mxgraph.ios7.misc.iphone;strokeColor=#c0c0c0;" parent="1" vertex="1">
          <mxGeometry x="70" y="-100" width="30" height="50" as="geometry" />
        </mxCell>
        <mxCell id="IKFatvW-H0tgTWFa8szm-9" value="" style="html=1;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;shadow=0;dashed=0;strokeWidth=1;shape=mxgraph.ios7.misc.ipad7inch;strokeColor=#c0c0c0;" parent="1" vertex="1">
          <mxGeometry x="270" y="-119.75" width="61.65" height="89.5" as="geometry" />
        </mxCell>
        <mxCell id="IKFatvW-H0tgTWFa8szm-10" value="" style="endArrow=none;dashed=1;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="110" y="-110" as="sourcePoint" />
            <mxPoint x="160" y="-160" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IKFatvW-H0tgTWFa8szm-11" value="" style="endArrow=none;dashed=1;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="260" y="-120" as="sourcePoint" />
            <mxPoint x="220" y="-160" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IKFatvW-H0tgTWFa8szm-12" value="" style="endArrow=none;dashed=1;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="110" y="-70" as="sourcePoint" />
            <mxPoint x="260" y="-70" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IKFatvW-H0tgTWFa8szm-13" value="AP1" style="image;points=[];aspect=fixed;html=1;align=center;shadow=0;dashed=0;image=img/lib/allied_telesis/wireless/Access_Point_Indoor.svg;" parent="1" vertex="1">
          <mxGeometry x="513.4" y="-239.75" width="43.3" height="64.6" as="geometry" />
        </mxCell>
        <mxCell id="IKFatvW-H0tgTWFa8szm-14" value="" style="html=1;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;shadow=0;dashed=0;strokeWidth=1;shape=mxgraph.ios7.misc.iphone;strokeColor=#c0c0c0;" parent="1" vertex="1">
          <mxGeometry x="418.35" y="-99.75" width="30" height="50" as="geometry" />
        </mxCell>
        <mxCell id="IKFatvW-H0tgTWFa8szm-15" value="" style="html=1;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;shadow=0;dashed=0;strokeWidth=1;shape=mxgraph.ios7.misc.ipad7inch;strokeColor=#c0c0c0;" parent="1" vertex="1">
          <mxGeometry x="618.35" y="-119.5" width="61.65" height="89.5" as="geometry" />
        </mxCell>
        <mxCell id="IKFatvW-H0tgTWFa8szm-16" value="" style="endArrow=none;dashed=1;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="458.35" y="-109.75" as="sourcePoint" />
            <mxPoint x="508.35" y="-159.75" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IKFatvW-H0tgTWFa8szm-17" value="" style="endArrow=none;dashed=1;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="608.35" y="-119.75" as="sourcePoint" />
            <mxPoint x="568.35" y="-159.75" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IKFatvW-H0tgTWFa8szm-18" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="340" y="-130" as="sourcePoint" />
            <mxPoint x="400" y="-130" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IKFatvW-H0tgTWFa8szm-23" value="" style="endArrow=none;dashed=1;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="43.400000000000006" y="-260" as="sourcePoint" />
            <mxPoint x="730" y="-260" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IKFatvW-H0tgTWFa8szm-24" value="&lt;div&gt;There is no contact of the&amp;nbsp;&lt;/div&gt;&lt;div&gt;Apple Services / Relays / iCloud&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="570" y="739" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7VyjvAI2c1oPgBdySuer-1" value="&lt;div&gt;The switchover works without&lt;/div&gt;&lt;div&gt;internet connection&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="584.17" y="850" width="170" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7VyjvAI2c1oPgBdySuer-2" value="&lt;div&gt;mDNS (Query Response: cache flush AAAA &amp;amp; A)&lt;br&gt;&lt;/div&gt;&lt;div&gt;rnd.local is at fe80::&amp;lt;receiver&amp;gt;&lt;/div&gt;&lt;div&gt;rnd.local is at 192.168.&amp;lt;receiver&amp;gt;&lt;/div&gt;&lt;div&gt;rnd.local is at fd00:&amp;lt;receiver&amp;gt;&lt;br&gt;&lt;/div&gt;" style="html=1;verticalAlign=bottom;endArrow=none;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;startArrow=block;startFill=1;endFill=0;" edge="1" parent="1">
          <mxGeometry x="0.0294" y="-31" relative="1" as="geometry">
            <mxPoint x="185" y="219.71" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="380" y="219.71" />
              <mxPoint x="485" y="229.71" />
              <mxPoint x="385" y="219.71" />
              <mxPoint x="255" y="159.71" />
            </Array>
            <mxPoint x="525" y="219.71" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7VyjvAI2c1oPgBdySuer-3" value="&lt;div&gt;Announce presence of AirDrop via&lt;/div&gt;&lt;div&gt;unsolicited mDNS Query Responses&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="560" y="180" width="220" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7VyjvAI2c1oPgBdySuer-4" value="&lt;div&gt;Different rnd service numbers are used&lt;/div&gt;&lt;div&gt;for the different interfaces&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="564.17" y="220" width="230" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7VyjvAI2c1oPgBdySuer-5" value="&lt;div&gt;The custom parameter 0xff080808&amp;nbsp;&lt;/div&gt;&lt;div&gt;is not documented&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="559.9999999999999" y="600" width="210" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7VyjvAI2c1oPgBdySuer-6" value="&lt;div&gt;Sometimes both connections co-exists&lt;/div&gt;&lt;div&gt;but only the migrated one is actively used&lt;/div&gt;&lt;div&gt;the other one lingers in an un-closed state&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="559.17" y="940" width="250" height="60" as="geometry" />
        </mxCell>
        <mxCell id="7VyjvAI2c1oPgBdySuer-7" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="186" y="581" as="sourcePoint" />
            <mxPoint x="526" y="581" as="targetPoint" />
            <Array as="points">
              <mxPoint x="381" y="581" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="7VyjvAI2c1oPgBdySuer-8" value="&lt;div&gt;mDNS (Query _asquic._udp.local)&lt;/div&gt;&lt;div&gt;Where is rnd.local with quic&lt;br&gt;&lt;/div&gt;" style="edgeStyle=elbowEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;elbow=vertical;curved=0;" edge="1" parent="1" source="aM9ryv3xv72pqoxQDRHE-2" target="aM9ryv3xv72pqoxQDRHE-6">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="360" y="490" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="7VyjvAI2c1oPgBdySuer-9" value="&lt;div&gt;mDNS (Response rnd.local is associated with _asquic._udp.local)&lt;/div&gt;&lt;div&gt;rnd.local is at fe80:&amp;lt;receiver&amp;gt;&lt;br&gt;&lt;/div&gt;" style="edgeStyle=elbowEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;elbow=vertical;curved=0;" edge="1" parent="1" source="aM9ryv3xv72pqoxQDRHE-6" target="aM9ryv3xv72pqoxQDRHE-2">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="340" y="540" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="7VyjvAI2c1oPgBdySuer-10" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;rotation=-180;" vertex="1" parent="1">
          <mxGeometry x="550" y="480" width="40" height="70" as="geometry" />
        </mxCell>
        <mxCell id="7VyjvAI2c1oPgBdySuer-11" value="&lt;div&gt;Asking for the QUIC address&amp;nbsp;&lt;/div&gt;&lt;div&gt;of the service&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="600" y="495" width="180" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7VyjvAI2c1oPgBdySuer-12" value="Sometimes the second WiFi connection is opened&amp;nbsp; before drop" style="edgeStyle=elbowEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;elbow=vertical;curved=0;startArrow=block;startFill=1;fillColor=#ffe6cc;strokeColor=#d79b00;" edge="1" parent="1" source="aM9ryv3xv72pqoxQDRHE-2" target="aM9ryv3xv72pqoxQDRHE-6">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="370" y="690" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="7VyjvAI2c1oPgBdySuer-13" value="QUIC closing existing connection" style="edgeStyle=elbowEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;elbow=vertical;curved=0;fillColor=#d5e8d4;strokeColor=#82b366;startArrow=block;startFill=1;" edge="1" parent="1" source="aM9ryv3xv72pqoxQDRHE-2" target="aM9ryv3xv72pqoxQDRHE-6">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="380" y="960" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="7VyjvAI2c1oPgBdySuer-14" value="&lt;div&gt;The second interface connection is always build&amp;nbsp;&lt;/div&gt;&lt;div&gt;early in the connection (1~2s after AWDL) when&amp;nbsp;&lt;/div&gt;&lt;div&gt;using the AP without internet&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="546.7" y="653" width="280" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
