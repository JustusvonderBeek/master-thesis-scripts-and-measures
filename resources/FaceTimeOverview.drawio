<mxfile host="app.diagrams.net" modified="2024-02-26T18:27:58.269Z" agent="Mozilla/5.0 (X11; Linux x86_64; rv:123.0) Gecko/20100101 Firefox/123.0" etag="jPBTLcrNVaSyHwvNUhGM" version="23.1.6" type="device">
  <diagram name="Page-1" id="2YBvvXClWsGukQMizWep">
    <mxGraphModel dx="860" dy="861" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="T4F6Rnl3pkKhbMStzOWr-2" value=":Courier / SIP&lt;br&gt;eu-central.apple.com" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="1">
          <mxGeometry x="210" y="70" width="140" height="610" as="geometry" />
        </mxCell>
        <mxCell id="aM9ryv3xv72pqoxQDRHE-6" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="T4F6Rnl3pkKhbMStzOWr-2" vertex="1">
          <mxGeometry x="65" y="75" width="10" height="265" as="geometry" />
        </mxCell>
        <mxCell id="aM9ryv3xv72pqoxQDRHE-1" value=":Caller" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=0;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="1" vertex="1">
          <mxGeometry x="60" y="70" width="100" height="610" as="geometry" />
        </mxCell>
        <mxCell id="aM9ryv3xv72pqoxQDRHE-2" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="aM9ryv3xv72pqoxQDRHE-1" vertex="1">
          <mxGeometry x="45" y="70" width="10" height="280" as="geometry" />
        </mxCell>
        <mxCell id="aM9ryv3xv72pqoxQDRHE-3" value="startCall" style="html=1;verticalAlign=bottom;startArrow=oval;endArrow=block;startSize=8;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;" parent="aM9ryv3xv72pqoxQDRHE-1" target="aM9ryv3xv72pqoxQDRHE-2" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-15" y="70" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="T4F6Rnl3pkKhbMStzOWr-25" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="aM9ryv3xv72pqoxQDRHE-1">
          <mxGeometry x="45" y="430" width="10" height="160" as="geometry" />
        </mxCell>
        <mxCell id="T4F6Rnl3pkKhbMStzOWr-29" value="STUN Binding Request (every ~1s) eduroam" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;curved=0;" edge="1" parent="aM9ryv3xv72pqoxQDRHE-1" source="T4F6Rnl3pkKhbMStzOWr-13">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="310" y="290" as="targetPoint" />
            <Array as="points">
              <mxPoint x="180" y="290" />
              <mxPoint x="180" y="291" />
              <mxPoint x="270" y="291" />
              <mxPoint x="270" y="290" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="T4F6Rnl3pkKhbMStzOWr-13" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="aM9ryv3xv72pqoxQDRHE-1">
          <mxGeometry x="50" y="181" width="10" height="269" as="geometry" />
        </mxCell>
        <mxCell id="T4F6Rnl3pkKhbMStzOWr-28" value="STUN Binding Request (every ~1s) eduroam" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;curved=0;" edge="1" parent="aM9ryv3xv72pqoxQDRHE-1" source="aM9ryv3xv72pqoxQDRHE-2">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="310" y="270" as="targetPoint" />
            <Array as="points">
              <mxPoint x="183" y="270" />
              <mxPoint x="183" y="271" />
              <mxPoint x="290" y="271" />
              <mxPoint x="290" y="270" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="aM9ryv3xv72pqoxQDRHE-5" value=":Callee" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=0;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="1" vertex="1">
          <mxGeometry x="510" y="70" width="100" height="610" as="geometry" />
        </mxCell>
        <mxCell id="T4F6Rnl3pkKhbMStzOWr-4" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="aM9ryv3xv72pqoxQDRHE-5">
          <mxGeometry x="45" y="90" width="10" height="500" as="geometry" />
        </mxCell>
        <mxCell id="T4F6Rnl3pkKhbMStzOWr-33" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="aM9ryv3xv72pqoxQDRHE-5">
          <mxGeometry x="40" y="390" width="10" height="160" as="geometry" />
        </mxCell>
        <mxCell id="aM9ryv3xv72pqoxQDRHE-7" value="callOtherEndpoint" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;" parent="1" source="aM9ryv3xv72pqoxQDRHE-2" target="aM9ryv3xv72pqoxQDRHE-6" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="215" y="160" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="200" y="150" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="T4F6Rnl3pkKhbMStzOWr-1" value="FaceTime&lt;br&gt;No Cellular / Cellular" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="40" y="10" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="T4F6Rnl3pkKhbMStzOWr-3" value="incoming Call" style="edgeStyle=elbowEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;elbow=vertical;curved=0;" edge="1" parent="1" source="aM9ryv3xv72pqoxQDRHE-6" target="T4F6Rnl3pkKhbMStzOWr-4">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="380" y="170" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="T4F6Rnl3pkKhbMStzOWr-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;curved=0;dashed=1;endArrow=open;endFill=0;" edge="1" parent="1" source="T4F6Rnl3pkKhbMStzOWr-4" target="aM9ryv3xv72pqoxQDRHE-6">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="380" y="190" />
              <mxPoint x="380" y="190" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="T4F6Rnl3pkKhbMStzOWr-8" value=":Apple&lt;br&gt;FaceTime (Relay)" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="1">
          <mxGeometry x="380" y="70" width="100" height="610" as="geometry" />
        </mxCell>
        <mxCell id="T4F6Rnl3pkKhbMStzOWr-10" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="T4F6Rnl3pkKhbMStzOWr-8">
          <mxGeometry x="45" y="150" width="10" height="150" as="geometry" />
        </mxCell>
        <mxCell id="T4F6Rnl3pkKhbMStzOWr-12" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="T4F6Rnl3pkKhbMStzOWr-8">
          <mxGeometry x="50" y="183" width="10" height="107" as="geometry" />
        </mxCell>
        <mxCell id="T4F6Rnl3pkKhbMStzOWr-31" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="T4F6Rnl3pkKhbMStzOWr-8">
          <mxGeometry x="45" y="460" width="10" height="70" as="geometry" />
        </mxCell>
        <mxCell id="T4F6Rnl3pkKhbMStzOWr-9" value="QUIC Connection (WiFi) (Call Information?)" style="edgeStyle=elbowEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;elbow=vertical;curved=0;entryX=0;entryY=0;entryDx=0;entryDy=5;entryPerimeter=0;startArrow=classic;startFill=1;" edge="1" parent="1" source="aM9ryv3xv72pqoxQDRHE-2" target="T4F6Rnl3pkKhbMStzOWr-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="T4F6Rnl3pkKhbMStzOWr-14" value="QUIC Connection (Cellular)" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;curved=0;startArrow=classic;startFill=1;" edge="1" parent="1" target="T4F6Rnl3pkKhbMStzOWr-12">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="120" y="260" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="120" y="260" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="T4F6Rnl3pkKhbMStzOWr-18" value="STUN Binding Request (Cellular)" style="edgeStyle=elbowEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;elbow=vertical;curved=0;startArrow=classic;startFill=1;" edge="1" parent="1" source="aM9ryv3xv72pqoxQDRHE-2" target="T4F6Rnl3pkKhbMStzOWr-4">
          <mxGeometry x="0.0004" relative="1" as="geometry">
            <mxPoint x="360" y="380" as="targetPoint" />
            <Array as="points">
              <mxPoint x="340" y="290" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="T4F6Rnl3pkKhbMStzOWr-19" value="STUN Binding Request (WiFi)" style="edgeStyle=elbowEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;elbow=vertical;curved=0;startArrow=classic;startFill=1;" edge="1" parent="1" source="aM9ryv3xv72pqoxQDRHE-2" target="T4F6Rnl3pkKhbMStzOWr-4">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="340" y="310" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="T4F6Rnl3pkKhbMStzOWr-20" value="Data Exchange via RTP (WiFi)" style="edgeStyle=elbowEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;elbow=vertical;curved=0;startArrow=classic;startFill=1;" edge="1" parent="1" source="aM9ryv3xv72pqoxQDRHE-2" target="T4F6Rnl3pkKhbMStzOWr-4">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="330" y="390" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="T4F6Rnl3pkKhbMStzOWr-22" value="" style="verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=mxgraph.basic.flash;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="180" y="410" width="20" height="30" as="geometry" />
        </mxCell>
        <mxCell id="T4F6Rnl3pkKhbMStzOWr-23" value="Disable WiFi" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="330" y="410" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="T4F6Rnl3pkKhbMStzOWr-24" value="Data Exchange via RTP (Cellular)" style="edgeStyle=elbowEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;elbow=vertical;curved=0;startArrow=classic;startFill=1;" edge="1" parent="1" source="T4F6Rnl3pkKhbMStzOWr-13">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="160" y="510" as="sourcePoint" />
            <mxPoint x="550" y="470" as="targetPoint" />
            <Array as="points">
              <mxPoint x="380" y="470" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="T4F6Rnl3pkKhbMStzOWr-26" value="Data Exchange via RTP (WiFi)" style="edgeStyle=elbowEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;elbow=vertical;curved=0;startArrow=classic;startFill=1;" edge="1" parent="1" source="T4F6Rnl3pkKhbMStzOWr-25" target="T4F6Rnl3pkKhbMStzOWr-4">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="160" y="570" as="sourcePoint" />
            <mxPoint x="600" y="570" as="targetPoint" />
            <Array as="points">
              <mxPoint x="370" y="590" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="T4F6Rnl3pkKhbMStzOWr-27" value="Enable WiFi" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="330" y="490" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="T4F6Rnl3pkKhbMStzOWr-30" value="QUIC Connection (WiFi) Call Info?" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;curved=0;startArrow=classic;startFill=1;" edge="1" parent="1" source="T4F6Rnl3pkKhbMStzOWr-25" target="T4F6Rnl3pkKhbMStzOWr-31">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="270" y="540" />
              <mxPoint x="270" y="540" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="T4F6Rnl3pkKhbMStzOWr-32" value="TCP Connection (Test Connectivity?)" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;curved=0;" edge="1" parent="1" source="T4F6Rnl3pkKhbMStzOWr-25" target="T4F6Rnl3pkKhbMStzOWr-4">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="340" y="570" />
              <mxPoint x="340" y="570" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="T4F6Rnl3pkKhbMStzOWr-34" value="In this initial Setup the devices must have found all their addresses" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="460" y="210" width="140" height="50" as="geometry" />
        </mxCell>
        <mxCell id="T4F6Rnl3pkKhbMStzOWr-36" value="Here the Caller knows all WiFi IPs and the correct other endpoints" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="380" y="324" width="150" height="50" as="geometry" />
        </mxCell>
        <mxCell id="T4F6Rnl3pkKhbMStzOWr-37" value="No Cellular: Create only single connection.On Connection Error short interruption then IPv6 QUIC conn to Apple.&lt;br&gt;5s later start probing STUN for local Conn. If stable take. Then probing of old path stops&lt;br&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="580" y="280" width="80" height="270" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
